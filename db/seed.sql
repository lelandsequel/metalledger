-- MetalLedger v0 — Scrap Metal Seed Data (Feb 2025 realistic prices)
-- 50+ rows of dealer prices spanning ~6 weeks (2025-01-06 to 2025-02-17)
-- Dealers: Houston Metals Inc (77001), Gulf Coast Scrap (77002), Lone Star Recycling (77003)
--
-- Feb 2025 approximate market prices (USD/lb unless noted):
--   HMS1:         $198/ton  → $0.099/lb
--   HMS2:         $181/ton  → $0.0905/lb
--   SHRED:        $192/ton  → $0.096/lb
--   CAST:         $140/ton  → $0.070/lb
--   CU_BARE:      $4.02/lb  (COMEX HG=F ~$4.15, spread 0.97)
--   CU_1:         $3.71/lb  (COMEX HG=F ~$4.08, spread 0.91)
--   CU_2:         $3.18/lb  (COMEX HG=F ~$3.88, spread 0.82)
--   AL_CAST:      $0.48/lb  (LME ALI=F ~$0.92, spread 0.52)
--   AL_EXTRUSION: $0.57/lb  (LME ALI=F ~$0.93, spread 0.61)
--   BRASS:        ~$1.87-2.05/lb
--   SS_304:       ~$0.62-0.72/lb
--   LEAD:         ~$0.46-0.54/lb
--   ZORBA:        ~$0.70-0.82/lb

-- ============================================================
-- dealer_001 — Houston Metals Inc (ZIP 77001)
-- ============================================================

INSERT INTO prices_raw (source, metal, venue, price_ts, value, currency, source_id, dealer_id, location_zip, price_per_lb, price_per_ton, unit) VALUES
-- Week 1 (2025-01-06) — Ferrous
('seed', 'HMS1',  'DEALER:dealer_001:77001', '2025-01-06 20:00:00+00', 0.0990, 'USD', 'seed-d001-hms1-001', '00000000-0001-0000-0000-000000000001', '77001', 0.0990, 198.00, 'lb'),
('seed', 'HMS2',  'DEALER:dealer_001:77001', '2025-01-06 20:00:00+00', 0.0905, 'USD', 'seed-d001-hms2-001', '00000000-0001-0000-0000-000000000001', '77001', 0.0905, 181.00, 'lb'),
('seed', 'SHRED', 'DEALER:dealer_001:77001', '2025-01-06 20:00:00+00', 0.0960, 'USD', 'seed-d001-shred-001','00000000-0001-0000-0000-000000000001', '77001', 0.0960, 192.00, 'lb'),
('seed', 'CAST',  'DEALER:dealer_001:77001', '2025-01-06 20:00:00+00', 0.0700, 'USD', 'seed-d001-cast-001', '00000000-0001-0000-0000-000000000001', '77001', 0.0700, 140.00, 'lb'),
-- Week 1 (2025-01-06) — Non-ferrous
('seed', 'CU_BARE',     'DEALER:dealer_001:77001', '2025-01-06 20:00:00+00', 4.02, 'USD', 'seed-d001-cubare-001', '00000000-0001-0000-0000-000000000001', '77001', 4.02, 8040.00, 'lb'),
('seed', 'CU_1',        'DEALER:dealer_001:77001', '2025-01-06 20:00:00+00', 3.71, 'USD', 'seed-d001-cu1-001',   '00000000-0001-0000-0000-000000000001', '77001', 3.71, 7420.00, 'lb'),
('seed', 'CU_2',        'DEALER:dealer_001:77001', '2025-01-06 20:00:00+00', 3.18, 'USD', 'seed-d001-cu2-001',   '00000000-0001-0000-0000-000000000001', '77001', 3.18, 6360.00, 'lb'),
('seed', 'AL_CAST',     'DEALER:dealer_001:77001', '2025-01-06 20:00:00+00', 0.48, 'USD', 'seed-d001-alcast-001','00000000-0001-0000-0000-000000000001', '77001', 0.48,  960.00, 'lb'),
('seed', 'AL_EXTRUSION','DEALER:dealer_001:77001', '2025-01-06 20:00:00+00', 0.57, 'USD', 'seed-d001-alex-001',  '00000000-0001-0000-0000-000000000001', '77001', 0.57, 1140.00, 'lb'),
('seed', 'BRASS',       'DEALER:dealer_001:77001', '2025-01-06 20:00:00+00', 1.87, 'USD', 'seed-d001-brass-001', '00000000-0001-0000-0000-000000000001', '77001', 1.87, 3740.00, 'lb'),
('seed', 'SS_304',      'DEALER:dealer_001:77001', '2025-01-06 20:00:00+00', 0.65, 'USD', 'seed-d001-ss304-001', '00000000-0001-0000-0000-000000000001', '77001', 0.65, 1300.00, 'lb'),
('seed', 'LEAD',        'DEALER:dealer_001:77001', '2025-01-06 20:00:00+00', 0.48, 'USD', 'seed-d001-lead-001',  '00000000-0001-0000-0000-000000000001', '77001', 0.48,  960.00, 'lb'),
('seed', 'ZORBA',       'DEALER:dealer_001:77001', '2025-01-06 20:00:00+00', 0.72, 'USD', 'seed-d001-zorba-001', '00000000-0001-0000-0000-000000000001', '77001', 0.72, 1440.00, 'lb'),

-- Week 2 (2025-01-13)
('seed', 'HMS1',   'DEALER:dealer_001:77001', '2025-01-13 20:00:00+00', 0.0988, 'USD', 'seed-d001-hms1-002',  '00000000-0001-0000-0000-000000000001', '77001', 0.0988, 197.60, 'lb'),
('seed', 'HMS2',   'DEALER:dealer_001:77001', '2025-01-13 20:00:00+00', 0.0902, 'USD', 'seed-d001-hms2-002',  '00000000-0001-0000-0000-000000000001', '77001', 0.0902, 180.40, 'lb'),
('seed', 'CU_BARE','DEALER:dealer_001:77001', '2025-01-13 20:00:00+00', 4.05, 'USD', 'seed-d001-cubare-002', '00000000-0001-0000-0000-000000000001', '77001', 4.05, 8100.00, 'lb'),
('seed', 'AL_CAST','DEALER:dealer_001:77001', '2025-01-13 20:00:00+00', 0.47, 'USD', 'seed-d001-alcast-002', '00000000-0001-0000-0000-000000000001', '77001', 0.47,  940.00, 'lb'),
('seed', 'BRASS',  'DEALER:dealer_001:77001', '2025-01-13 20:00:00+00', 1.89, 'USD', 'seed-d001-brass-002',  '00000000-0001-0000-0000-000000000001', '77001', 1.89, 3780.00, 'lb'),

-- Week 4 (2025-01-27)
('seed', 'HMS1',   'DEALER:dealer_001:77001', '2025-01-27 20:00:00+00', 0.0993, 'USD', 'seed-d001-hms1-003',  '00000000-0001-0000-0000-000000000001', '77001', 0.0993, 198.60, 'lb'),
('seed', 'CU_BARE','DEALER:dealer_001:77001', '2025-01-27 20:00:00+00', 4.00, 'USD', 'seed-d001-cubare-003', '00000000-0001-0000-0000-000000000001', '77001', 4.00, 8000.00, 'lb'),
('seed', 'CU_1',   'DEALER:dealer_001:77001', '2025-01-27 20:00:00+00', 3.69, 'USD', 'seed-d001-cu1-002',    '00000000-0001-0000-0000-000000000001', '77001', 3.69, 7380.00, 'lb'),
('seed', 'ZORBA',  'DEALER:dealer_001:77001', '2025-01-27 20:00:00+00', 0.74, 'USD', 'seed-d001-zorba-002',  '00000000-0001-0000-0000-000000000001', '77001', 0.74, 1480.00, 'lb'),

-- ============================================================
-- dealer_002 — Gulf Coast Scrap (ZIP 77002)
-- ============================================================
('seed', 'HMS1',  'DEALER:dealer_002:77002', '2025-01-06 20:00:00+00', 0.0975, 'USD', 'seed-d002-hms1-001', '00000000-0002-0000-0000-000000000002', '77002', 0.0975, 195.00, 'lb'),
('seed', 'HMS2',  'DEALER:dealer_002:77002', '2025-01-06 20:00:00+00', 0.0890, 'USD', 'seed-d002-hms2-001', '00000000-0002-0000-0000-000000000002', '77002', 0.0890, 178.00, 'lb'),
('seed', 'SHRED', 'DEALER:dealer_002:77002', '2025-01-06 20:00:00+00', 0.0945, 'USD', 'seed-d002-shred-001','00000000-0002-0000-0000-000000000002', '77002', 0.0945, 189.00, 'lb'),
('seed', 'CAST',  'DEALER:dealer_002:77002', '2025-01-06 20:00:00+00', 0.0685, 'USD', 'seed-d002-cast-001', '00000000-0002-0000-0000-000000000002', '77002', 0.0685, 137.00, 'lb'),
('seed', 'CU_BARE',     'DEALER:dealer_002:77002', '2025-01-06 20:00:00+00', 3.97, 'USD', 'seed-d002-cubare-001','00000000-0002-0000-0000-000000000002', '77002', 3.97, 7940.00, 'lb'),
('seed', 'CU_1',        'DEALER:dealer_002:77002', '2025-01-06 20:00:00+00', 3.65, 'USD', 'seed-d002-cu1-001',  '00000000-0002-0000-0000-000000000002', '77002', 3.65, 7300.00, 'lb'),
('seed', 'CU_2',        'DEALER:dealer_002:77002', '2025-01-06 20:00:00+00', 3.13, 'USD', 'seed-d002-cu2-001',  '00000000-0002-0000-0000-000000000002', '77002', 3.13, 6260.00, 'lb'),
('seed', 'AL_CAST',     'DEALER:dealer_002:77002', '2025-01-06 20:00:00+00', 0.46, 'USD', 'seed-d002-alcast-001','00000000-0002-0000-0000-000000000002', '77002', 0.46,  920.00, 'lb'),
('seed', 'AL_EXTRUSION','DEALER:dealer_002:77002', '2025-01-06 20:00:00+00', 0.55, 'USD', 'seed-d002-alex-001', '00000000-0002-0000-0000-000000000002', '77002', 0.55, 1100.00, 'lb'),
('seed', 'BRASS',       'DEALER:dealer_002:77002', '2025-01-06 20:00:00+00', 1.83, 'USD', 'seed-d002-brass-001','00000000-0002-0000-0000-000000000002', '77002', 1.83, 3660.00, 'lb'),
('seed', 'SS_304',      'DEALER:dealer_002:77002', '2025-01-06 20:00:00+00', 0.62, 'USD', 'seed-d002-ss304-001','00000000-0002-0000-0000-000000000002', '77002', 0.62, 1240.00, 'lb'),
('seed', 'LEAD',        'DEALER:dealer_002:77002', '2025-01-06 20:00:00+00', 0.46, 'USD', 'seed-d002-lead-001', '00000000-0002-0000-0000-000000000002', '77002', 0.46,  920.00, 'lb'),
('seed', 'ZORBA',       'DEALER:dealer_002:77002', '2025-01-06 20:00:00+00', 0.70, 'USD', 'seed-d002-zorba-001','00000000-0002-0000-0000-000000000002', '77002', 0.70, 1400.00, 'lb'),

-- Week 2
('seed', 'HMS1',   'DEALER:dealer_002:77002', '2025-01-13 20:00:00+00', 0.0978, 'USD', 'seed-d002-hms1-002',  '00000000-0002-0000-0000-000000000002', '77002', 0.0978, 195.60, 'lb'),
('seed', 'CU_BARE','DEALER:dealer_002:77002', '2025-01-13 20:00:00+00', 3.99, 'USD', 'seed-d002-cubare-002', '00000000-0002-0000-0000-000000000002', '77002', 3.99, 7980.00, 'lb'),
('seed', 'BRASS',  'DEALER:dealer_002:77002', '2025-01-13 20:00:00+00', 1.85, 'USD', 'seed-d002-brass-002',  '00000000-0002-0000-0000-000000000002', '77002', 1.85, 3700.00, 'lb'),

-- ============================================================
-- dealer_003 — Lone Star Recycling (ZIP 77003)
-- ============================================================
('seed', 'HMS1',  'DEALER:dealer_003:77003', '2025-01-06 20:00:00+00', 0.1000, 'USD', 'seed-d003-hms1-001', '00000000-0003-0000-0000-000000000003', '77003', 0.1000, 200.00, 'lb'),
('seed', 'HMS2',  'DEALER:dealer_003:77003', '2025-01-06 20:00:00+00', 0.0910, 'USD', 'seed-d003-hms2-001', '00000000-0003-0000-0000-000000000003', '77003', 0.0910, 182.00, 'lb'),
('seed', 'SHRED', 'DEALER:dealer_003:77003', '2025-01-06 20:00:00+00', 0.0965, 'USD', 'seed-d003-shred-001','00000000-0003-0000-0000-000000000003', '77003', 0.0965, 193.00, 'lb'),
('seed', 'CAST',  'DEALER:dealer_003:77003', '2025-01-06 20:00:00+00', 0.0710, 'USD', 'seed-d003-cast-001', '00000000-0003-0000-0000-000000000003', '77003', 0.0710, 142.00, 'lb'),
('seed', 'CU_BARE',     'DEALER:dealer_003:77003', '2025-01-06 20:00:00+00', 4.05, 'USD', 'seed-d003-cubare-001','00000000-0003-0000-0000-000000000003', '77003', 4.05, 8100.00, 'lb'),
('seed', 'CU_1',        'DEALER:dealer_003:77003', '2025-01-06 20:00:00+00', 3.74, 'USD', 'seed-d003-cu1-001',  '00000000-0003-0000-0000-000000000003', '77003', 3.74, 7480.00, 'lb'),
('seed', 'CU_2',        'DEALER:dealer_003:77003', '2025-01-06 20:00:00+00', 3.21, 'USD', 'seed-d003-cu2-001',  '00000000-0003-0000-0000-000000000003', '77003', 3.21, 6420.00, 'lb'),
('seed', 'AL_CAST',     'DEALER:dealer_003:77003', '2025-01-06 20:00:00+00', 0.49, 'USD', 'seed-d003-alcast-001','00000000-0003-0000-0000-000000000003', '77003', 0.49,  980.00, 'lb'),
('seed', 'AL_EXTRUSION','DEALER:dealer_003:77003', '2025-01-06 20:00:00+00', 0.58, 'USD', 'seed-d003-alex-001', '00000000-0003-0000-0000-000000000003', '77003', 0.58, 1160.00, 'lb'),
('seed', 'BRASS',       'DEALER:dealer_003:77003', '2025-01-06 20:00:00+00', 1.92, 'USD', 'seed-d003-brass-001','00000000-0003-0000-0000-000000000003', '77003', 1.92, 3840.00, 'lb'),
('seed', 'SS_304',      'DEALER:dealer_003:77003', '2025-01-06 20:00:00+00', 0.68, 'USD', 'seed-d003-ss304-001','00000000-0003-0000-0000-000000000003', '77003', 0.68, 1360.00, 'lb'),
('seed', 'LEAD',        'DEALER:dealer_003:77003', '2025-01-06 20:00:00+00', 0.50, 'USD', 'seed-d003-lead-001', '00000000-0003-0000-0000-000000000003', '77003', 0.50, 1000.00, 'lb'),
('seed', 'ZORBA',       'DEALER:dealer_003:77003', '2025-01-06 20:00:00+00', 0.75, 'USD', 'seed-d003-zorba-001','00000000-0003-0000-0000-000000000003', '77003', 0.75, 1500.00, 'lb'),

-- Week 3 (2025-01-20)
('seed', 'HMS1',   'DEALER:dealer_003:77003', '2025-01-20 20:00:00+00', 0.0998, 'USD', 'seed-d003-hms1-002',  '00000000-0003-0000-0000-000000000003', '77003', 0.0998, 199.60, 'lb'),
('seed', 'CU_BARE','DEALER:dealer_003:77003', '2025-01-20 20:00:00+00', 4.08, 'USD', 'seed-d003-cubare-002', '00000000-0003-0000-0000-000000000003', '77003', 4.08, 8160.00, 'lb'),
('seed', 'CU_1',   'DEALER:dealer_003:77003', '2025-01-20 20:00:00+00', 3.76, 'USD', 'seed-d003-cu1-002',    '00000000-0003-0000-0000-000000000003', '77003', 3.76, 7520.00, 'lb'),
('seed', 'ZORBA',  'DEALER:dealer_003:77003', '2025-01-20 20:00:00+00', 0.77, 'USD', 'seed-d003-zorba-002',  '00000000-0003-0000-0000-000000000003', '77003', 0.77, 1540.00, 'lb'),
('seed', 'BRASS',  'DEALER:dealer_003:77003', '2025-01-20 20:00:00+00', 1.94, 'USD', 'seed-d003-brass-002',  '00000000-0003-0000-0000-000000000003', '77003', 1.94, 3880.00, 'lb'),
('seed', 'SS_304', 'DEALER:dealer_003:77003', '2025-01-20 20:00:00+00', 0.69, 'USD', 'seed-d003-ss304-002',  '00000000-0003-0000-0000-000000000003', '77003', 0.69, 1380.00, 'lb');

-- ============================================================
-- Promote seed data to canonical (per metal — use highest dealer price)
-- ============================================================
INSERT INTO prices_canonical (metal, price_ts, value, currency, source, raw_id)
SELECT DISTINCT ON (metal, price_ts)
    metal, price_ts, value, currency, source, id
FROM prices_raw
WHERE source = 'seed'
ORDER BY metal, price_ts, value DESC
ON CONFLICT (metal, price_ts) DO NOTHING;
